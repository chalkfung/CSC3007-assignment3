(function(){"use strict";var t={5205:function(t,e,a){var r=a(144),o=a(9132);r.Z.use(o.Z);var n=new o.Z({}),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{color:"deep-purple",dark:"",app:""}},[a("v-app-bar-nav-icon",{on:{click:t.toggleNavBar}}),a("v-toolbar-title",[t._v("CSC3007 Assignment")])],1),a("NavBar",{ref:"navbar"}),a("v-main",[a("router-view")],1),a("v-footer",{attrs:{color:"deep-purple",dark:"",app:""}},[t._v("Author: Ng Cheuk Fung")])],1)},s=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item-group",{attrs:{"active-class":"deep-purple--text text--accent-4"},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},[a("v-list-item",{attrs:{to:"/"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-home")])],1),a("v-list-item-title",[t._v("Home")])],1),a("v-list-item",{attrs:{to:"/a1"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-weather-hazy")])],1),a("v-list-item-title",[t._v("A1 - PSI Table")])],1),a("v-list-item",{attrs:{to:"/a2"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account-tie-hat")])],1),a("v-list-item-title",[t._v("A2 - Crime Rate")])],1),a("v-list-item",{attrs:{to:"/a3"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-home-city")])],1),a("v-list-item-title",[t._v("A3 - SG Population 2021")])],1)],1)],1)],1)},u=[],c={name:"NavBar",methods:{toggleDrawer(){this.drawer=!this.drawer}},data(){return{drawer:!1,group:null,items:{}}}},_=c,h=a(1001),p=a(3453),d=a.n(p),m=a(6428),f=a(6816),v=a(7620),y=a(3249),x=a(459),g=a(2710),b=a(9194),w=(0,h.Z)(_,l,u,!1,null,null,null),C=w.exports;d()(w,{VIcon:m.Z,VList:f.Z,VListItem:v.Z,VListItemGroup:y.Z,VListItemIcon:x.Z,VListItemTitle:g.V9,VNavigationDrawer:b.Z});var Z={data:()=>({}),methods:{toggleNavBar(){this.$refs.navbar.toggleDrawer()}},components:{NavBar:C}},k=Z,S=a(7524),V=a(8320),j=a(5206),I=a(899),O=a(7877),P=a(7921),D=(0,h.Z)(k,i,s,!1,null,null,null),F=D.exports;d()(D,{VApp:S.Z,VAppBar:V.Z,VAppBarNavIcon:j.Z,VFooter:I.Z,VMain:O.Z,VToolbarTitle:P.qW});var T=a(8345),A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("div",{staticClass:"text-center"},[a("h1",[t._v("Homepage of Cheuk Fung's CSC3007 Assignments")])])])],1)},H=[],L=a(247),M=a(2877),N={},B=(0,h.Z)(N,A,H,!1,null,null,null),E=B.exports;d()(B,{VContainer:L.Z,VRow:M.Z});var $=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"py-6",attrs:{justify:"center"}},[a("h1",[t._v("Singapore Air Quality Table")])]),a("v-row",{staticClass:"py-6",attrs:{justify:"center"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.locations,"hide-default-footer":!0}})],1),a("v-row",{attrs:{justify:"center"}},[a("h3",[t._v("Updated as of: "+t._s(this.updateTime))])])],1)},z=[],R=a(9669),Y=a.n(R);const U=Y();var G={install(t){t.prototype.$axios=Y()}},q={methods:{fetchUpdateData:async function(){return await U.get("https://api.data.gov.sg/v1/environment/psi").then((t=>{let e=t.data.items[0].readings;Object.entries(e).forEach((([t,e])=>{Object.entries(e).forEach((([e,a])=>{switch(e){case"west":this.locations.filter((t=>"West"==t.name))[0][t]=a;break;case"central":this.locations.filter((t=>"Central"==t.name))[0][t]=a;break;case"north":this.locations.filter((t=>"North"==t.name))[0][t]=a;break;case"south":this.locations.filter((t=>"South"==t.name))[0][t]=a;break;case"east":this.locations.filter((t=>"East"==t.name))[0][t]=a;break;case"national":this.locations.filter((t=>"National"==t.name))[0][t]=a;break;default:break}}))})),this.updateTime=new Date(t.data.items[0].update_timestamp)}))}},created(){this.interval=setInterval((()=>this.fetchUpdateData()),3e3)},destroyed(){clearInterval(this.interval)},data(){return{updateTime:null,headers:[{text:"Location",align:"start",sortable:!1,value:"name"},{text:"O3 Sub Index",value:"o3_sub_index"},{text:"O3 8H Max",value:"o3_eight_hour_max"},{text:"PM10 Sub Index",value:"pm10_sub_index"},{text:"PM10 24H Hourly",value:"pm10_twenty_four_hourly"},{text:"PM2.5 Sub Index",value:"pm25_sub_index"},{text:"PM2.5 24H Hourly ",value:"pm25_twenty_four_hourly"},{text:"SO2 Sub Index",value:"so2_sub_index"},{text:"SO2 24H Hourly",value:"so2_twenty_four_hourly"},{text:"CO Sub Index",value:"co_sub_index"},{text:"CO 8H Max",value:"co_eight_hour_max"},{text:"NO2 1H Max",value:"no2_one_hour_max"},{text:"PSI 24H Max",value:"psi_twenty_four_hourly"}],locations:[{name:"National",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"North",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"South",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"East",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"West",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"Central",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0}]}}},W=q,K=a(2090),Q=(0,h.Z)(W,$,z,!1,null,null,null),X=Q.exports;d()(Q,{VContainer:L.Z,VDataTable:K.Z,VRow:M.Z});var J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"py-6",attrs:{justify:"center"}},[a("h1",[t._v("Crime Rate")])]),a("v-row",{staticClass:"py-3",attrs:{justify:"center"},domProps:{innerHTML:t._s(t.chart)}}),a("v-row",{staticClass:"py-3",attrs:{justify:"center"}},[t._v(" Some bars might not be visible due to small values. You may use the dropdown menu below to inspect individual crime categories. ")]),a("v-row",{staticClass:"py-3",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{label:"Choose a category",dense:"",outlined:"",items:t.crimes},on:{change:t.onSelectChange}})],1)],1),a("v-row",{staticClass:"py-3",attrs:{justify:"center"},domProps:{innerHTML:t._s(t.selectChart)}})],1)},tt=[],et=(a(6699),a(3985)),at={data(){return{crimeyear:[],years:[],crimes:[],chart:null,selectChart:null,data:null}},methods:{fetchCrimeData:async function(){return await U.get("https://data.gov.sg/api/action/datastore_search?resource_id=83c21090-bd19-4b54-ab6b-d999c251edcf").then((t=>{let e=t.data.result.records;this.data=e,e.forEach((t=>{this.crimeyear.push({crime:t["level_2"],year:t["year"],value:parseInt(t["value"])}),this.years.includes(t["year"])||this.years.push(t["year"]),this.crimes.includes(t["level_2"])||this.crimes.push(t["level_2"])}))}))},onSelectChange:function(t){let e=[],a=[];this.data.forEach((r=>{r["level_2"]==t&&(e.push({crime:r["level_2"],year:r["year"],value:parseInt(r["value"])}),a.push(r["year"]))})),this.selectChart=this.groupedBarChart(e,{x:t=>t.crime,y:t=>t.value,z:t=>t.year,xDomain:et.IRY(e,(t=>et.Smz(t,(t=>-t.value))),(t=>t.crime)),yLabel:"Cases",zDomain:a,colors:et.lqd[a.length],width:1400,height:550}).outerHTML},groupedBarChart:function(t,{x:e=((t,e)=>e),y:a=(t=>t),z:r=(()=>1),title:o,marginTop:n=30,marginRight:i=0,marginBottom:s=30,marginLeft:l=40,width:u=640,height:c=400,xDomain:_,xRange:h=[l,u-i],xPadding:p=.1,yType:d=et.BYU,yDomain:m,yRange:f=[c-s,n],zDomain:v,zPadding:y=.05,yFormat:x,yLabel:g,colors:b=et.K2I}={}){const w=et.UID(t,e),C=et.UID(t,a),Z=et.UID(t,r);void 0===_&&(_=w),void 0===m&&(m=[0,et.Fp7(C)]),void 0===v&&(v=Z),_=new et.H0G(_),v=new et.H0G(v);const k=et.w6H(w.length).filter((t=>_.has(w[t])&&v.has(Z[t]))),S=et.tiA(_,h).paddingInner(p),V=et.tiA(v,[0,S.bandwidth()]).padding(y),j=d(m,f),I=et.PKp(v,b),O=et.LLu(S).tickSizeOuter(0),P=et.y4O(j).ticks(c/60,x);if(void 0===o){const t=j.tickFormat(100,x);o=e=>`${w[e]}\n${Z[e]}\n${t(C[e])}`}else{const e=et.UID(t,(t=>t)),a=o;o=r=>a(e[r],r,t)}const D=et.Ue8("svg").attr("width",u).attr("height",c).attr("viewBox",[0,0,u,c]).attr("style","max-width: 100%; height: auto; height: intrinsic;");D.append("g").attr("transform",`translate(${l},0)`).call(P).call((t=>t.select(".domain").remove())).call((t=>t.selectAll(".tick line").clone().attr("x2",u-l-i).attr("stroke-opacity",.1))).call((t=>t.append("text").attr("x",-l).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text(g)));const F=D.append("g").selectAll("rect").data(k).join("rect").attr("x",(t=>S(w[t])+V(Z[t]))).attr("y",(t=>j(C[t]))).attr("width",V.bandwidth()).attr("height",(t=>j(0)-j(C[t]))).attr("fill",(t=>I(Z[t])));return o&&F.append("title").text(o),D.append("g").attr("transform",`translate(0,${c-s})`).call(O),Object.assign(D.node(),{scales:{color:I}})}},async mounted(){await this.fetchCrimeData(),this.chart=this.groupedBarChart(this.crimeyear,{x:t=>t.crime,y:t=>t.value,z:t=>t.year,xDomain:et.IRY(this.crimeyear,(t=>et.Smz(t,(t=>-t.value))),(t=>t.crime)),yLabel:"Cases",zDomain:this.years,colors:et.lqd[this.years.length],width:1400,height:550}).outerHTML}},rt=at,ot=a(2102),nt=a(6784),it=(0,h.Z)(rt,J,tt,!1,null,null,null),st=it.exports;d()(it,{VCol:ot.Z,VContainer:L.Z,VRow:M.Z,VSelect:nt.Z});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"py-3",attrs:{justify:"center"}},[a("h1",[t._v("Singapore 2021 Population")])]),a("v-row",{staticClass:"py",attrs:{justify:"center"}},[a("svg",{attrs:{id:"map"}})]),a("v-row",{attrs:{justify:"center"}},[a("svg",{attrs:{id:"legend",width:"480"}})]),a("div",{staticClass:"tooltip"})],1)},ut=[],ct={data(){return{}},methods:{plotMap:async function(){let t=1e3,e=350,a=20,r="a3/sgmap.json",o="a3/population2021.csv";Promise.all([et.AVB(r),et.gyn(o)]).then((r=>{let o=et.mw4().center([103.851959,1.29027]).fitExtent([[a,a],[t-a,e-a]],r[0]);for(let t of r[0].features){let e=t.properties["Subzone Name"].toLowerCase(),a=0;for(const t of r[1])t.Subzone.toLocaleLowerCase()==e&&"-"!=t.Population&&(a=t.Population);t.properties["Population"]=a}let n=et.l49().projection(o),i=[8e3,16e3,24e3,32e3,4e4,48e3,56e3,64e3],s=[];for(let t=0;t<1;t+=1/(i.length+1))s.push(et.AO_(t));console.log(s);let l=et.ut0().domain(i).range(s),u=et.Ys("#legend"),c=50;u.append("text").text("Population").attr("y",20).style("fill","FFFFFF"),u.selectAll("mydots").data(i).enter().append("rect").attr("x",(function(t,e){return 0+e*c})).attr("y",25).attr("width",c).attr("height",c).style("fill",(function(t){return l(t)})),u.selectAll("mylabels").data(i).enter().append("text").attr("x",(function(t,e){return(e+.75)*c})).attr("y",20+1.5*c).attr("font-size","75%").style("fill",(function(t){return l(t)})).text((function(t){return t})),console.log(u);let _=et.Ys("#map").attr("viewBox","0 0 "+t+" "+e);_.append("g").attr("id","districts").selectAll("path").data(r[0].features).enter().append("path").attr("d",n).style("stroke-opacity",.25).style("stroke","white").attr("fill",(t=>0==t.properties.Population?"FFFFFF":l(t.properties.Population))).on("mouseover",((t,e)=>{et.Ys(t.path[0]).transition().duration(200).style("opacity",1).style("stroke-opacity",1).style("stroke","red"),et.Ys(".tooltip").text(e.properties.Name+":"+e.properties.Population).style("position","absolute").style("background","#fff").style("left",t.pageX+"px").style("top",t.pageY+"px")})).on("mouseout",(()=>{et.Ys(event.path[0]).transition().duration(200).style("stroke-opacity",.25).style("stroke","white"),et.Ys(".tooltip").text("")}))}))}},async mounted(){await this.plotMap()}},_t=ct,ht=(0,h.Z)(_t,lt,ut,!1,null,null,null),pt=ht.exports;d()(ht,{VContainer:L.Z,VRow:M.Z});var dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("div",{staticClass:"text-center"},[a("h1",[t._v("404 Page Not Found")])])])],1)},mt=[],ft={},vt=(0,h.Z)(ft,dt,mt,!1,null,null,null),yt=vt.exports;d()(vt,{VContainer:L.Z,VRow:M.Z}),r.Z.use(T.Z);var xt=new T.Z({mode:"hash",base:"/CSC3007-assignment3/",routes:[{path:"/",name:"home",components:{default:E}},{path:"/a1",name:"a1",components:{default:X}},{path:"/a2",name:"a2",components:{default:st}},{path:"/a3",name:"a3",components:{default:pt}},{path:"*",components:{default:yt}}]});r.Z.config.productionTip=!1,r.Z.use(G),new r.Z({router:xt,vuetify:n,render:t=>t(F)}).$mount("#app")}},e={};function a(r){var o=e[r];if(void 0!==o)return o.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,r,o,n){if(!r){var i=1/0;for(c=0;c<t.length;c++){r=t[c][0],o=t[c][1],n=t[c][2];for(var s=!0,l=0;l<r.length;l++)(!1&n||i>=n)&&Object.keys(a.O).every((function(t){return a.O[t](r[l])}))?r.splice(l--,1):(s=!1,n<i&&(i=n));if(s){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[r,o,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,n,i=r[0],s=r[1],l=r[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(l)var c=l(a)}for(e&&e(r);u<i.length;u++)n=i[u],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(c)},r=self["webpackChunkcsc3007_2021_singapore_population"]=self["webpackChunkcsc3007_2021_singapore_population"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(5205)}));r=a.O(r)})();
//# sourceMappingURL=app.cea245fe.js.map